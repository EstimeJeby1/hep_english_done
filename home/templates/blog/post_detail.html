{% extends "blog/base.html" %}
{% block content %}
{% load static %}
  <article class="content-section">
    <img class="rounded-circle article-img style="width='100px' height='100px'"" src="{{ object.author.profile.image.url }}">
    <div class="media-body">
      <div class="article-metadata">
        <a class="mr-2" href="{% url 'user-posts' object.author.username %}">{{ object.author }}</a>
        <small class="text-muted">{{ object.date_posted|date:"F d, Y" }}</small>
         {% if object.author == user %}
          <div>
            <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'post-update' object.id %}">Update</a>
            <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'post-delete' object.id %}">Delete</a>
          </div>
        {% endif %} 
        
      </div>
      <h2 class="article-title">{{ object.title }}</h2>
      <p class="article-content">{{ object.content }}</p>
    </div>
    <div>
      {% if user.is_authenticated %}
     <div class="actionUser">
     
           
        <a href="{% url 'addComment' post.id %}"><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
          <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894m-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
        </svg></a>
      
      </div>
      <br>
      <hr>

        {% if not post.Comments.all %}

            No Comments yet ...<a href="{% url 'addComment' post.id %}">Add One</a>
          
        {% else %}
          {% for comment in post.Comments.all %}
              <strong>{{ comment.name }}</strong> <small class="text-muted"> {{ comment.date_added|date:"F d, Y"}}</small>
                <br>
                {{ comment.body }}
                <br>
                <br>
          {% endfor %}
        {% endif %}
      {% else %}
       <button type="submit" click="commentPost" value="">
        <svg id="comment" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
          <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894m-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
        </svg></button>
      <hr>
     
        {% for comment in post.Comments.all %}
          <strong>{{ comment.name }}</strong> <small class="text-muted">{{ comment.date_added|date:"F d, Y"}}</small>
            <br>
            {{ comment.body }}
            <br>
            <br>
        {% endfor %}


      {% endif %}
   
            
      
    </div>
   
  </article>

<Script src="{% static 'js/ajax.js' %}"></Script> 


{% endblock content %}
